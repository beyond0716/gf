<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="format-detection" content="telephone=no">
  <title>账号绑定</title>
  <script type="text/javascript" src="../plugins/jquery-1.12.0.min.js"></script>
  <style>
    ul,ol,li{list-style: none;}
    .btn-prev,.el-pager,.btn-next{float: left;}
    .el-pager li{float: left;width: 32px;height: 32px;line-height: 16px;text-align: center;cursor: pointer;background: #00b3ee;}
    .el-pager .active{color: #f00;list-style: none;}
  </style>
</head>

<body>
<div class="title">
  <div id="page"></div>
  <!--<div class="el-pagination">
    <button type="button" class="btn-prev">上一页</button>
    <ul class="el-pager" onclick="pagerClick(event)">
      <li class="number active">1</li>
      <li class="number">2</li>
      <li class="number">3</li>
      <li class="number">4</li>
      <li class="number">5</li>
      <li class="number">6</li>
      <li class="el-icon more btn-quicknext el-icon-more">...</li>
      <li class="number">100</li>
    </ul>
    <button type="button" class="btn-next">下一页</button>
  </div>-->
  <script type="text/javascript">
    function page(currentPage,pageSize,total){
      var pageCount=Math.ceil(total/pageSize),
          str='';
      str='<button type="button" class="btn-prev">上一页</button>'+
          '<ul class="el-pager">'+
          '<li class="number active">1</li>';

      var array=[];
      var pagerCount=7;
      let showPrevMore=false;
      let showNextMore=false;
      if(pageCount>pagerCount){
        if(currentPage>pagerCount-3){
          showPrevMore=true;
          str+='...';
        }
        if(currentPage<pageCount-3){
          showNextMore=true;
        }
      }
      if (showPrevMore && !showNextMore){
        const startPage=pageCount-(pagerCount-2);
        for(let i=startPage;i<pageCount;i++){
          array.push(i);
        }

      }else if (showPrevMore && showNextMore){
        const offset = Math.floor(pagerCount / 2) - 1;
        for (let i = currentPage - offset ; i <= currentPage + offset; i++) {
          array.push(i);
        }
      }else if(!showPrevMore && showNextMore){
        for(let i=2;i<pagerCount;i++){
          array.push(i);
        }
      }else{
        for(var i=2;i<pageCount;i++){
          array.push(i);
        }
      }

      for(var i=0;i<array.length;i++){
        str+='<li class="number">'+array[i]+'</li>';
      }
      if(pageCount>pagerCount){
        if(currentPage<pageCount-3){
          str+='...';
        }
      }

      str+=pageCount;
      str= str+'</ul>'+
          '<button type="button" class="btn-next">下一页</button>';




      return str;
    }

    $(function () {

      $("#page").html(page(9,10,205));

      $(".el-pager").on('click','li',function () {
        $(this).addClass('active').siblings().removeClass('active');
      });
    });


function pagerClick(event) {
  var newPage=Number(event.target.textContent);
  console.log(newPage);
}
    function prev() {
      if(cp==1){
        return
      }
      cp-=1
    }
function next() {
  if(cp==1){
    return
  }
  cp+=1
}
  </script>
</div>

</body>

</html>
